<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--namespace配置为数据访问层的接口的 包名.接口名称  -->
<mapper namespace="com.xm.dao.UserMapper">
    <!--登录时查询，所以使用select标签  id的值为UsersMapper中方法的名称userLogin
        返回的类型为Users为实体类com.oracle.entity.Users
        参数的类型为Users为实体类com.oracle.entity.Users
        Users userLogin(Users user);
     -->
    <!-- <select id="userLogin" resultType="com.oracle.entity.Users" parameterType="com.oracle.entity.Users">
        SELECT * FROM users WHERE uname = #{uname} AND upass = #{upass}
    </select> -->
    <!--登录时查询，所以使用select标签  id的值为UsersMapper中方法的名称userLogin
        返回的类型为HashMap为实体类java.util.HashMap
        参数的类型为Users为实体类com.oracle.entity.Users
        Users userLogin(Users user);
     -->
    <select id="getUser" resultType="java.util.HashMap" parameterType="com.xm.entity.User">
		SELECT u.*,r.rolename
		FROM users u
		INNER JOIN role r
		ON u.roleid = r.id
		WHERE u.uname = #{uname} AND u.upass = #{upass}
	</select>


</mapper>